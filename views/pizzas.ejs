<%- include('header') -%>
<body>
    <section class="pizza-section">
        <h2 class="title">WhatPizza</h2>
        <div class="cursor"></div>
        <h3 class="searchedFor">Pizzas at: "Vapiano"</h3>
        <p class="disclaimer">Click on the <span
            class="highlight">row </span>of a Pizza to edit or delete it</p>
        <p class="disclaimer">Use the <span class="highlight">edit button</span> to edit or delete the<span
                class="highlight"> restaurant</span></p>
        <div class="menu-container">
            <table class="tables">
                <colgroup>
                    <col span="column">
                    <col span="column">
                    <col span="column">
                    <col span="column">
                <tr class="table-row">
                    <th>Pizza</th>
                    <th>Size (cm)</th>
                    <th>Price (Ft)</th>
                    <th>Sauce</th>
                </tr>
                <% pizzas.forEach(pizza => { %>
                    <tr class="table-row" onclick="window.location='pizzas/edit/<%= pizza.pizzaId %>'">
                        <td><%= pizza.name %></td>
                        <td><%= pizza.size %></td>
                        <td><%= pizza.price %></td>
                        <td><%= pizza.sauce %></td>
                    </tr>
                    <% }) %>
            </table>
        </div>
        <div class="buttons">
            <a class="button-link" href="/newPizza"><button class="filledButton">New</button></a>
            <a class="button-link" href="/editRest"><button class="outlineButton">Edit</button></a>
            <a class="button-link" href="/search"><button class="outlineButton">Back</button></a>
        </div>
</body>

</html>
<script>
    // cursor follow
    const cursor = document.querySelector('.cursor');
    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.pageX + 'px';
        cursor.style.top = e.pageY + 'px';
    })
</script>

<style>
    .pizza-section {
        min-height: 100vh;
        height: fit-content;
        width: 100%;
        max-width: 1000px;
        background-color: white;
        margin: 50px auto;
        padding: 20px;
    }

    .menu-container {
        position: relative;
        margin: 100px auto;
        max-width: 600px;
        max-height: 600px;
        width: 100%;
        height: 100%;
        opacity: 100%;
    }

    .searchedFor {
        font-family: 'Open Sans', sans-serif;
        font-size: 30px;
        font-weight: 500;
        max-width: 500px;
        text-align: left;
        margin-top: 20px;
    }

    .disclaimer {
        font-family: 'Open Sans', sans-serif;
        font-size: 14px;
        font-weight: 400;
        text-align: left;
        margin: 10px auto;
    }

    .buttons {
        width: fit-content;
        height: fit-content;
        margin: 50px auto;
        display: flex;
        justify-content: space-between;
        gap: 20px;
    }

    @media screen and (max-width: 600px) {
        .menu-container {
            position: relative;
            margin: 50px auto;
            max-width: 600px;
            max-height: 600px;
            width: 100%;
            height: 100%;
            opacity: 100%;
        }
    }
</style>